{"ast":null,"code":"var _jsxFileName = \"/Users/victorialucero/Documents/Arca-Continental/Arca Web/src/components/subirKPIs/SubirKPIS.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { ApiUrlXD } from '../../const/global';\nimport \"./SubirKPIS.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SubirKPIS() {\n  _s();\n\n  const [operCerti, setOperCerti] = useState();\n  const [operTotal, setOperTotal] = useState();\n  const [showOperarios, setShowOperarios] = useState(false);\n  const [showKPIS, setShowKPIS] = useState(false);\n  const [revisadoA, setRevisadoA] = useState();\n  const idU = localStorage.getItem(\"usId\"); //hooks para los kpis porcentuales\n\n  const [mejorasImp, setMejorasImp] = useState();\n  const [mjMinParoST, setMjMinParoST] = useState();\n  const [mjMinParoCT, setMjMinParoCT] = useState();\n  const [porMinParco, setPorMinParco] = useState();\n  const [mjEnvDesST, setMjEnvDesST] = useState();\n  const [mjEnvDesCT, setMjEnvDesCT] = useState();\n  const [porMiEnvDes, setPorMiEnvDes] = useState();\n  const [mjMinCamForST, setMjMinCamForST] = useState();\n  const [mjMinCamForCT, setMjMinCamForCT] = useState();\n  const [porMjMinCamFor, setPorMjMinCamFor] = useState();\n  useEffect(() => {\n    fetch(ApiUrlXD + `getSupervisor/${idU}`).then(response => {\n      if (!response.ok) {\n        throw new Error(`This is an HTTP error: The status is ${response.status}`);\n      }\n\n      return response.json();\n    }).then(json => {\n      setOperCerti(json.sup[0].NumOperadores);\n      setOperTotal(json.sup[0].Operarios_Totales);\n      setPorMinParco(json.sup[0].Mjrs_Mins_Paro_Porcentaje);\n      setPorMiEnvDes(json.sup[0].Mjrs_Envs_Dsechds_Porcentaje);\n      setPorMjMinCamFor(json.sup[0].Mjrs_Mins_CambioFormato_Porcentaje);\n      setMejorasImp(json.sup[0].Mejoras_Implementadas);\n      setRevisadoA(json.sup[0].Revisado);\n    });\n  }, []);\n\n  const submitOper = async e => {\n    e.preventDefault();\n    const credentials = {\n      operCerti,\n      operTotal,\n      idU\n    };\n    const options = {\n      method: 'PUT',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(credentials)\n    };\n    fetch(ApiUrlXD + '/setOper', options);\n  };\n\n  const submitKPIS = async e => {\n    e.preventDefault();\n    setPorMinParco((mjMinParoST - mjMinParoCT) / mjMinParoST * 100);\n    setPorMiEnvDes((mjEnvDesST - mjEnvDesCT) / mjEnvDesST * 100);\n    setPorMjMinCamFor((mjMinCamForST - mjMinCamForCT) / mjMinCamForST * 100);\n    const credentials = {\n      mejorasImp,\n      porMinParco,\n      porMiEnvDes,\n      porMjMinCamFor,\n      idU\n    };\n    const options = {\n      method: 'PUT',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(credentials)\n    };\n    fetch(ApiUrlXD + 'setMejoras', options);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Op-general\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Op-certi\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        class: \"btn button-certi\",\n        onClick: () => {\n          setShowOperarios(!showOperarios);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"title-op-certi\",\n          children: \"Captura de operarios certificados\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), showOperarios ? /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form-op-certi\",\n        onSubmit: submitOper,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"textform-op-certi\",\n          htmlFor: \"iOperCerti\",\n          children: \" Operarios Certificados\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"esp-op-certi\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"iOperCerti\",\n            type: \"number\",\n            defaultValue: operCerti,\n            min: \"0\",\n            max: operTotal,\n            onChange: e => setOperCerti(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inform-op-certi\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"textform-op-certi\",\n            htmlfor: \"iOperTotal\",\n            children: \" Operarios Totales \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"ioperTotal\",\n            type: \"number\",\n            defaultValue: operTotal,\n            min: \"0\",\n            onChange: e => setOperTotal(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"btn submit-op-certi\",\n          type: \"submit\",\n          children: \" Subir \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Op-mejoras\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        class: \"btn button-certi\",\n        onClick: () => {\n          setShowKPIS(!showKPIS);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"title-op-certi\",\n          children: \"Captura de mejoras en indicadores de procesos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), showKPIS ? /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submitKPIS,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"textform-op-certi2\",\n            htmlFor: \"mejoras\",\n            children: \"Mejoras implementadas \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"mejoras\",\n            type: \"number\",\n            min: \"0\",\n            required: true,\n            onChange: e => setMejorasImp(e.target.value),\n            defaultValue: mejorasImp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"textform-op-certi2\",\n            children: \"Minutos de paro (mins/mes)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"mdpST\",\n            placeholder: \"Medici\\xF3n sin TWI \",\n            type: \"number\",\n            min: \"0\",\n            required: true,\n            onChange: e => setMjMinParoST(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"mdpCT\",\n            placeholder: \"Medici\\xF3n con TWI \",\n            type: \"number\",\n            min: \"0\",\n            required: true,\n            onChange: e => setMjMinParoCT(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"textform-op-certi2\",\n            children: \"Envases desechados (tarimas/mes)\\u200B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"edST\",\n            type: \"number\",\n            min: \"0\",\n            placeholder: \"Medici\\xF3n sin TWI \",\n            required: true,\n            onChange: e => setMjEnvDesST(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"edCT\",\n            placeholder: \"Medici\\xF3n con TWI \",\n            type: \"number\",\n            min: \"0\",\n            required: true,\n            onChange: e => setMjEnvDesCT(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"textform-op-certi2\",\n            children: \"Minutos por cambio de formato (mins/mes)\\u200B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"mpcfST\",\n            type: \"number\",\n            min: \"0\",\n            placeholder: \"Medici\\xF3n sin TWI \",\n            required: true,\n            onChange: e => setMjMinCamForST(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-op-mejoras\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"textlabel-op-certi\",\n              htmlFor: \"mpcfCT\",\n              children: \"Medici\\xF3n con TWI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"mpcfCT\",\n            type: \"number\",\n            min: \"0\",\n            required: true,\n            onChange: e => setMjMinCamForCT(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Esp-button\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"btn submit-op-certi\",\n            type: \"submit\",\n            children: \" Subir\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rev-op-certi\",\n      children: revisadoA == 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"#adb5bd\"\n        },\n        children: \"No Revisado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 38\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"#adb5bd\"\n        },\n        children: \"Revisado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 90\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SubirKPIS, \"+oijptB+ifnnvpGd12qWKEufhbk=\");\n\n_c = SubirKPIS;\nexport default SubirKPIS;\n\nvar _c;\n\n$RefreshReg$(_c, \"SubirKPIS\");","map":{"version":3,"sources":["/Users/victorialucero/Documents/Arca-Continental/Arca Web/src/components/subirKPIs/SubirKPIS.js"],"names":["React","useEffect","useState","ApiUrlXD","SubirKPIS","operCerti","setOperCerti","operTotal","setOperTotal","showOperarios","setShowOperarios","showKPIS","setShowKPIS","revisadoA","setRevisadoA","idU","localStorage","getItem","mejorasImp","setMejorasImp","mjMinParoST","setMjMinParoST","mjMinParoCT","setMjMinParoCT","porMinParco","setPorMinParco","mjEnvDesST","setMjEnvDesST","mjEnvDesCT","setMjEnvDesCT","porMiEnvDes","setPorMiEnvDes","mjMinCamForST","setMjMinCamForST","mjMinCamForCT","setMjMinCamForCT","porMjMinCamFor","setPorMjMinCamFor","fetch","then","response","ok","Error","status","json","sup","NumOperadores","Operarios_Totales","Mjrs_Mins_Paro_Porcentaje","Mjrs_Envs_Dsechds_Porcentaje","Mjrs_Mins_CambioFormato_Porcentaje","Mejoras_Implementadas","Revisado","submitOper","e","preventDefault","credentials","options","method","headers","body","JSON","stringify","submitKPIS","target","value","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { ApiUrlXD } from '../../const/global'\nimport \"./SubirKPIS.css\"\n\nfunction SubirKPIS() {\n    const [operCerti, setOperCerti] = useState();\n    const [operTotal, setOperTotal] = useState();\n    const [showOperarios, setShowOperarios] = useState(false);\n    const [showKPIS, setShowKPIS] = useState(false);\n    const [revisadoA, setRevisadoA] = useState();\n\n    const idU = localStorage.getItem(\"usId\");\n\n\n    //hooks para los kpis porcentuales\n\n    const [mejorasImp, setMejorasImp] = useState();\n\n    const [mjMinParoST, setMjMinParoST] = useState();\n    const [mjMinParoCT, setMjMinParoCT] = useState();\n    const [porMinParco, setPorMinParco] = useState();\n\n    const [mjEnvDesST, setMjEnvDesST] = useState();\n    const [mjEnvDesCT, setMjEnvDesCT] = useState();\n    const [porMiEnvDes, setPorMiEnvDes] = useState();\n\n\n    const [mjMinCamForST, setMjMinCamForST] = useState();\n    const [mjMinCamForCT, setMjMinCamForCT] = useState();\n    const [porMjMinCamFor, setPorMjMinCamFor] = useState();\n\n    useEffect(() => {\n\n        fetch(ApiUrlXD + `getSupervisor/${idU}`)\n            .then((response) => {\n                if (!response.ok) {\n                    throw new Error(\n                        `This is an HTTP error: The status is ${response.status}`\n                    );\n                }\n                return response.json();\n            })\n            .then((json) => {\n                setOperCerti(json.sup[0].NumOperadores);\n                setOperTotal(json.sup[0].Operarios_Totales);\n                setPorMinParco(json.sup[0].Mjrs_Mins_Paro_Porcentaje);\n                setPorMiEnvDes(json.sup[0].Mjrs_Envs_Dsechds_Porcentaje);\n                setPorMjMinCamFor(json.sup[0].Mjrs_Mins_CambioFormato_Porcentaje);\n                setMejorasImp(json.sup[0].Mejoras_Implementadas);\n                setRevisadoA(json.sup[0].Revisado);\n            })\n\n    }, [])\n\n    const submitOper = async e => {\n        e.preventDefault();\n        const credentials = {\n            operCerti,\n            operTotal,\n            idU\n        }\n        const options = {\n            method: 'PUT',\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(credentials)\n        }\n\n        fetch(ApiUrlXD + '/setOper', options)\n\n    }\n\n    const submitKPIS = async e => {\n        e.preventDefault();\n\n        setPorMinParco(((mjMinParoST - mjMinParoCT) / mjMinParoST) * 100);\n        setPorMiEnvDes(((mjEnvDesST - mjEnvDesCT) / mjEnvDesST) * 100);\n        setPorMjMinCamFor(((mjMinCamForST - mjMinCamForCT) / mjMinCamForST) * 100);\n\n        const credentials = {\n            mejorasImp,\n            porMinParco,\n            porMiEnvDes,\n            porMjMinCamFor,\n            idU\n        }\n        const options = {\n            method: 'PUT',\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(credentials)\n        }\n\n        fetch(ApiUrlXD + 'setMejoras', options);\n\n    }\n\n\n    return (\n        <div className=\"Op-general\">\n            <div className=\"Op-certi\">\n                <button  type=\"button\"  class=\"btn button-certi\"  onClick={() => {\n                    setShowOperarios(!showOperarios)\n                }}>\n                    <h5 className=\"title-op-certi\">Captura de operarios certificados</h5>\n                </button>\n\n                {showOperarios ? (\n                    <form className='form-op-certi' onSubmit={submitOper}>\n\n                        <label className=\"textform-op-certi\" htmlFor='iOperCerti'> Operarios Certificados</label>\n                        <br />\n                        <div className=\"esp-op-certi\">\n                            <input id=\"iOperCerti\" type=\"number\" defaultValue={operCerti}\n                                min=\"0\" max={operTotal}\n                                onChange={e => setOperCerti(e.target.value)}\n                            ></input>\n                        </div>\n                        <br />\n                        <div className=\"inform-op-certi\">\n                            <label className=\"textform-op-certi\" htmlfor='iOperTotal'> Operarios Totales </label>\n                            <br />\n                            <input id=\"ioperTotal\" type=\"number\" defaultValue={operTotal}\n                                min=\"0\"\n                                onChange={e => setOperTotal(e.target.value)}\n                            ></input>\n                        </div>\n                        <br />\n                        \n                        <button class=\"btn submit-op-certi\" type=\"submit\"> Subir </button>\n\n                    </form>\n                ) : <div></div>}\n            </div>\n\n            <div className=\"Op-mejoras\">\n                <button type=\"button\" class=\"btn button-certi\" onClick={() => {\n                    setShowKPIS(!showKPIS)\n                }}>\n                    <h5 className=\"title-op-certi\">Captura de mejoras en indicadores de procesos</h5>\n                </button>\n\n                {showKPIS ? (\n                    <form onSubmit={submitKPIS}>\n                        <div>\n                            <br />\n                            <label className=\"textform-op-certi2\" htmlFor='mejoras'>Mejoras implementadas </label>\n                            <input id=\"mejoras\" type=\"number\" min=\"0\" required\n                                onChange={e => setMejorasImp(e.target.value)}\n                                defaultValue={mejorasImp}\n                            ></input>\n                            <br />\n\n                        </div>\n                        <br />\n                        <div>\n                            <p className=\"textform-op-certi2\">Minutos de paro (mins/mes)</p>\n                            \n                            <input id=\"mdpST\" placeholder=\"Medición sin TWI \" type=\"number\" min=\"0\" required\n                                onChange={e => setMjMinParoST(e.target.value)}\n                            ></input>\n\n                            <br />\n                            <br/>\n                            \n                            <input id=\"mdpCT\" placeholder=\"Medición con TWI \" type=\"number\" min=\"0\" required\n                                onChange={e => setMjMinParoCT(e.target.value)}\n                            ></input>\n                        </div>\n                        <br />\n                        <div>\n                            <p className=\"textform-op-certi2\">Envases desechados (tarimas/mes)​</p>\n                            \n                            <input id=\"edST\" type=\"number\" min=\"0\" placeholder=\"Medición sin TWI \" required\n                                onChange={e => setMjEnvDesST(e.target.value)}\n                            ></input>\n                            <br />\n                           \n                            <input id=\"edCT\" placeholder=\"Medición con TWI \" type=\"number\" min=\"0\" required\n                                onChange={e => setMjEnvDesCT(e.target.value)}\n                            ></input>\n                        </div>\n                        <br />\n                        <div>\n                            <p className=\"textform-op-certi2\">Minutos por cambio de formato (mins/mes)​</p>\n                        \n                            <input id=\"mpcfST\" type=\"number\" min=\"0\"  placeholder=\"Medición sin TWI \" required\n                                onChange={e => setMjMinCamForST(e.target.value)}\n                            ></input>\n                            <br />\n                            <div className=\"form-op-mejoras\">\n                                <label className=\"textlabel-op-certi\" htmlFor='mpcfCT'>Medición con TWI</label>\n                            </div>\n                            <input id=\"mpcfCT\" type=\"number\" min=\"0\" required\n                                onChange={e => setMjMinCamForCT(e.target.value)}\n                            ></input>\n                        </div>\n\n                        <div className=\"Esp-button\">\n                            <button class=\"btn submit-op-certi\" type=\"submit\"> Subir</button>\n                        </div>\n\n\n                    </form >\n                ) : (<div></div>)}\n\n            </div >\n            \n            <br />\n            <div className = \"rev-op-certi\">\n                {(revisadoA == 0) ? (<p style={{ color: \"#adb5bd\" }}>No Revisado</p>) : (<p style={{ color: \"#adb5bd\" }}>Revisado</p>)}\n            </div>\n        </div>\n    )\n}\n\nexport default SubirKPIS"]},"metadata":{},"sourceType":"module"}