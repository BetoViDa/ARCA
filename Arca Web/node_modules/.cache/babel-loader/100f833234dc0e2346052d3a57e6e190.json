{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nrequire(\"./declarations/UnityLoader\");\n\nrequire(\"./declarations/UnityInstance\");\n\nrequire(\"./declarations/ReactUnityWebgl\");\n\nvar LoggingService_1 = require(\"./services/LoggingService\");\n\nvar UnityContent =\n/** @class */\nfunction () {\n  /**\n   * Creates a new Unity content object. This object can be used\n   * @param {string} buildJsonPath the relative path to the build json file generated by Unity.\n   * @param {string} unityLoaderJsPath the relative path to the unity loader javascript file.\n   * @param {IUnityConfig} unityConfig the Unity configuration that will be used to start the player.\n   */\n  function UnityContent(buildJsonPath, unityLoaderJsPath, unityConfig) {\n    var _unityConfig = unityConfig || {};\n\n    this.buildJsonPath = buildJsonPath;\n    this.unityLoaderJsPath = unityLoaderJsPath;\n    this.uniqueID = ++UnityContent.uniqueID;\n    this.unityEvents = [];\n    this.unityConfig = {\n      modules: _unityConfig.modules || {},\n      unityVersion: _unityConfig.unityVersion || \"undefined\",\n      adjustOnWindowResize: _unityConfig.adjustOnWindowResize,\n      id: _unityConfig.id || \"nill\"\n    };\n    if (typeof window.ReactUnityWebGL === \"undefined\") window.ReactUnityWebGL = {};\n  }\n  /**\n   * Binds a unity component to this content.\n   * @param unityComponentInstance the unity component that will be binded to this content.\n   * @public\n   */\n\n\n  UnityContent.prototype.setComponentInstance = function (unityComponentInstance) {\n    this.unityComponent = unityComponentInstance;\n  };\n  /**\n   * Binds a unity player to this content.\n   * @param unityPlayerInstance the unity component that will be binded to this content.\n   * @public\n   */\n\n\n  UnityContent.prototype.setUnityInstance = function (unityInstance) {\n    this.unityInstance = unityInstance;\n  };\n  /**\n   * Sets the unity players fullscreen mode.\n   * @param {boolean} fullscreen\n   * @public\n   */\n\n\n  UnityContent.prototype.setFullscreen = function (fullscreen) {\n    if (this.unityInstance != null) {\n      this.unityInstance.SetFullscreen(fullscreen === true ? 1 : 0);\n    }\n  };\n  /**\n   * Quits the Unity Instance and removes it from memory.\n   */\n\n\n  UnityContent.prototype.remove = function () {\n    var _this = this;\n\n    if (typeof this.unityInstance !== \"undefined\" && typeof this.unityInstance.Quit === \"function\") return this.unityInstance.Quit(function () {\n      _this.triggerUnityEvent(\"quitted\");\n\n      _this.unityInstance = undefined;\n    });\n    return LoggingService_1.loggingService.warnUnityContentRemoveNotAvailable();\n  };\n  /**\n   * Sends an event to the Unity player that will trigger a function.\n   * @param {string} gameObjectName the name of the game object in your Unity scene.\n   * @param {string} methodName the name of the public method on the game object.\n   * @param {any} parameter an optional parameter to pass along to the method.\n   * @public\n   */\n\n\n  UnityContent.prototype.send = function (gameObjectName, methodName, parameter) {\n    if (this.unityInstance != null) {\n      if (typeof parameter === \"undefined\") {\n        this.unityInstance.SendMessage(gameObjectName, methodName);\n      } else {\n        this.unityInstance.SendMessage(gameObjectName, methodName, parameter);\n      }\n    }\n  };\n  /**\n   * Registers an event listener for the Unity player. These can be\n   * system events like when the player is initialized or loader and\n   * your custom events from Unity.\n   * @param {string} eventName the event name\n   * @param {Function} eventCallback the event function\n   * @returns {any} The Function\n   * @public\n   */\n\n\n  UnityContent.prototype.on = function (eventName, eventCallback) {\n    this.unityEvents.push({\n      eventName: eventName,\n      eventCallback: eventCallback\n    });\n\n    window.ReactUnityWebGL[eventName] = function (parameter) {\n      return eventCallback(parameter);\n    };\n  };\n  /**\n   * Triggers an event that has been registered by the on\n   * function.\n   * @param {string} eventName the event name\n   * @param {Function} eventValue the event value\n   * @public\n   */\n\n\n  UnityContent.prototype.triggerUnityEvent = function (eventName, eventValue) {\n    for (var _i = 0; _i < this.unityEvents.length; _i++) if (this.unityEvents[_i].eventName === eventName) this.unityEvents[_i].eventCallback(eventValue);\n  };\n  /**\n   * the statis unique ID keeps track of the\n   * unique ID's made by other instances.\n   * @type {number}\n   * @static\n   * @public\n   */\n\n\n  UnityContent.uniqueID = 0;\n  return UnityContent;\n}();\n\nexports.default = UnityContent;","map":{"version":3,"mappings":"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","names":["require","buildJsonPath","unityLoaderJsPath","unityConfig","_unityConfig","uniqueID","UnityContent","unityEvents","modules","unityVersion","adjustOnWindowResize","id","window","ReactUnityWebGL","unityComponentInstance","unityComponent","unityInstance","fullscreen","SetFullscreen","Quit","_this","triggerUnityEvent","undefined","LoggingService_1","warnUnityContentRemoveNotAvailable","gameObjectName","methodName","parameter","SendMessage","eventName","eventCallback","push","eventValue","_i","length"],"sources":["../source/UnityContent.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}