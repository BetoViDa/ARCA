{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ana Paula Pedroza\\\\Documents\\\\TEC\\\\TEC 2do A\\xD1O\\\\Semestre 2\\\\Construcci\\xF3n de Software\\\\Visual Studio\\\\HTML\\\\Arca-Continental\\\\Arca Web\\\\src\\\\components\\\\subirKPIs\\\\SubirKPIS.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { ApiUrlXD } from '../../const/global';\nimport \"./SubirKPIS.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SubirKPIS() {\n  _s();\n\n  const [operCerti, setOperCerti] = useState();\n  const [operTotal, setOperTotal] = useState();\n  const [showOperarios, setShowOperarios] = useState(false);\n  const [showKPIS, setShowKPIS] = useState(false);\n  const idU = localStorage.getItem(\"usId\"); //hooks para los kpis porcentuales\n\n  const [mejorasImp, setMejorasImp] = useState();\n  const [mjMinParoST, setMjMinParoST] = useState();\n  const [mjMinParoCT, setMjMinParoCT] = useState();\n  const [porMinParco, setPorMinParco] = useState();\n  const [mjEnvDesST, setMjEnvDesST] = useState();\n  const [mjEnvDesCT, setMjEnvDesCT] = useState();\n  const [porMiEnvDes, setPorMiEnvDes] = useState();\n  const [mjMinCamForST, setMjMinCamForST] = useState();\n  const [mjMinCamForCT, setMjMinCamForCT] = useState();\n  const [porMjMinCamFor, setPorMjMinCamFor] = useState();\n  useEffect(() => {\n    fetch(ApiUrlXD + `getSupervisor/${idU}`).then(response => {\n      if (!response.ok) {\n        throw new Error(`This is an HTTP error: The status is ${response.status}`);\n      }\n\n      return response.json();\n    }).then(json => {\n      setOperCerti(json.sup[0].NumOperadores);\n      setOperTotal(json.sup[0].Operarios_Totales);\n      setPorMinParco(json.sup[0].Mjrs_Mins_Paro_Porcentaje);\n      setPorMiEnvDes(json.sup[0].Mjrs_Envs_Dsechds_Porcentaje);\n      setPorMjMinCamFor(json.sup[0].Mjrs_Mins_CambioFormato_Porcentaje);\n      setMejorasImp(json.sup[0].Mejoras_Implementadas);\n    });\n  }, []);\n\n  const submitOper = async e => {\n    e.preventDefault();\n    const credentials = {\n      operCerti,\n      operTotal,\n      idU\n    };\n    const options = {\n      method: 'PUT',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(credentials)\n    };\n    fetch(ApiUrlXD + '/setOper', options);\n  };\n\n  const submitKPIS = async e => {\n    e.preventDefault();\n    setPorMinParco((mjMinParoST - mjMinParoCT) / mjMinParoST * 100);\n    setPorMiEnvDes((mjEnvDesST - mjEnvDesCT) / mjEnvDesST * 100);\n    setPorMjMinCamFor((mjMinCamForST - mjMinCamForCT) / mjMinCamForST * 100);\n    const credentials = {\n      mejorasImp,\n      porMinParco,\n      porMiEnvDes,\n      porMjMinCamFor,\n      idU\n    };\n    const options = {\n      method: 'PUT',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(credentials)\n    };\n    fetch(ApiUrlXD + 'setMejoras', options);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Op-certi\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        setShowOperarios(!showOperarios);\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"title-op-certi\",\n        children: \"Captura de operarios certificados\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this), showOperarios ? /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form-op-certi\",\n      onSubmit: submitOper,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"iOperCerti\",\n        children: \" operarios certificados\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"iOperCerti\",\n        type: \"number\",\n        defaultValue: operCerti,\n        min: \"0\",\n        max: operTotal,\n        onChange: e => setOperCerti(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlfor: \"iOperTotal\",\n        children: \" operarios totales \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"ioperTotal\",\n        type: \"number\",\n        defaultValue: operTotal,\n        min: \"0\",\n        onChange: e => setOperTotal(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \" Subir \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        setShowKPIS(!showKPIS);\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Captura de mejoras en indicadores de procesos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this), showKPIS ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitKPIS,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"mejoras\",\n          children: \"Mejoras implementadas \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"mejoras\",\n          type: \"number\",\n          min: \"0\",\n          required: true,\n          onChange: e => setMejorasImp(e.target.value),\n          defaultValue: mejorasImp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Minutos de paro (mins/mes)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"mdpST\",\n          children: \"Medicion sin TWI  \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"mdpST\",\n          type: \"number\",\n          min: \"0\",\n          required: true,\n          onChange: e => setMjMinParoST(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"mdpCT\",\n          children: \"Medicion con TWI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"mdpCT\",\n          type: \"number\",\n          min: \"0\",\n          required: true,\n          onChange: e => setMjMinParoCT(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Envases desechados (tarimas/mes)\\u200B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"edST\",\n          children: \"Medicion sin TWI  \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"edST\",\n          type: \"number\",\n          min: \"0\",\n          required: true,\n          onChange: e => setMjEnvDesST(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"edCT\",\n          children: \"Medicion con TWI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"edCT\",\n          type: \"number\",\n          min: \"0\",\n          required: true,\n          onChange: e => setMjEnvDesCT(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Minutos por cambio de formato (mins/mes)\\u200B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"mpcfST\",\n          children: \"Medicion sin TWI  \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"mpcfST\",\n          type: \"number\",\n          min: \"0\",\n          required: true,\n          onChange: e => setMjMinCamForST(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"mpcfCT\",\n          children: \"Medicion con TWI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"mpcfCT\",\n          type: \"number\",\n          min: \"0\",\n          required: true,\n          onChange: e => setMjMinCamForCT(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \" Subir\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SubirKPIS, \"/URJ5BhG1Vrnsc2l/zhPnK/E4fE=\");\n\n_c = SubirKPIS;\nexport default SubirKPIS;\n\nvar _c;\n\n$RefreshReg$(_c, \"SubirKPIS\");","map":{"version":3,"sources":["C:/Users/Ana Paula Pedroza/Documents/TEC/TEC 2do AÑO/Semestre 2/Construcción de Software/Visual Studio/HTML/Arca-Continental/Arca Web/src/components/subirKPIs/SubirKPIS.js"],"names":["React","useEffect","useState","ApiUrlXD","SubirKPIS","operCerti","setOperCerti","operTotal","setOperTotal","showOperarios","setShowOperarios","showKPIS","setShowKPIS","idU","localStorage","getItem","mejorasImp","setMejorasImp","mjMinParoST","setMjMinParoST","mjMinParoCT","setMjMinParoCT","porMinParco","setPorMinParco","mjEnvDesST","setMjEnvDesST","mjEnvDesCT","setMjEnvDesCT","porMiEnvDes","setPorMiEnvDes","mjMinCamForST","setMjMinCamForST","mjMinCamForCT","setMjMinCamForCT","porMjMinCamFor","setPorMjMinCamFor","fetch","then","response","ok","Error","status","json","sup","NumOperadores","Operarios_Totales","Mjrs_Mins_Paro_Porcentaje","Mjrs_Envs_Dsechds_Porcentaje","Mjrs_Mins_CambioFormato_Porcentaje","Mejoras_Implementadas","submitOper","e","preventDefault","credentials","options","method","headers","body","JSON","stringify","submitKPIS","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { ApiUrlXD } from '../../const/global'\r\nimport \"./SubirKPIS.css\"\r\n\r\nfunction SubirKPIS() {\r\n    const [operCerti, setOperCerti] = useState();\r\n    const [operTotal, setOperTotal] = useState();\r\n    const [showOperarios, setShowOperarios] = useState(false);\r\n    const [showKPIS, setShowKPIS] = useState(false);\r\n\r\n    const idU = localStorage.getItem(\"usId\");\r\n\r\n\r\n    //hooks para los kpis porcentuales\r\n\r\n    const [mejorasImp, setMejorasImp] = useState();\r\n\r\n    const [mjMinParoST, setMjMinParoST] = useState();\r\n    const [mjMinParoCT, setMjMinParoCT] = useState();\r\n    const [porMinParco, setPorMinParco] = useState();\r\n\r\n    const [mjEnvDesST, setMjEnvDesST] = useState();\r\n    const [mjEnvDesCT, setMjEnvDesCT] = useState();\r\n    const [porMiEnvDes, setPorMiEnvDes] = useState();\r\n\r\n    \r\n    const [mjMinCamForST, setMjMinCamForST] = useState();\r\n    const [mjMinCamForCT, setMjMinCamForCT] = useState();\r\n    const [porMjMinCamFor, setPorMjMinCamFor] = useState();\r\n\r\n    useEffect(() => {\r\n\r\n        fetch(ApiUrlXD + `getSupervisor/${idU}`)\r\n            .then((response) => {\r\n                if (!response.ok) {\r\n                    throw new Error(\r\n                        `This is an HTTP error: The status is ${response.status}`\r\n                    );\r\n                }\r\n                return response.json();\r\n            })\r\n            .then((json) => {\r\n                setOperCerti(json.sup[0].NumOperadores);\r\n                setOperTotal(json.sup[0].Operarios_Totales);\r\n                setPorMinParco(json.sup[0].Mjrs_Mins_Paro_Porcentaje);\r\n                setPorMiEnvDes(json.sup[0].Mjrs_Envs_Dsechds_Porcentaje);\r\n                setPorMjMinCamFor(json.sup[0].Mjrs_Mins_CambioFormato_Porcentaje);\r\n                setMejorasImp(json.sup[0].Mejoras_Implementadas);\r\n            })\r\n\r\n    }, [])\r\n\r\n    const submitOper = async e => {\r\n        e.preventDefault();\r\n        const credentials = {\r\n            operCerti,\r\n            operTotal,\r\n            idU\r\n        }\r\n        const options = {\r\n            method: 'PUT',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(credentials)\r\n        }\r\n\r\n        fetch(ApiUrlXD + '/setOper', options)\r\n\r\n    }\r\n\r\n    const submitKPIS = async e => {\r\n        e.preventDefault();\r\n\r\n        setPorMinParco(((mjMinParoST - mjMinParoCT)/mjMinParoST) * 100);\r\n        setPorMiEnvDes(((mjEnvDesST - mjEnvDesCT)/mjEnvDesST) * 100);\r\n        setPorMjMinCamFor(((mjMinCamForST - mjMinCamForCT)/mjMinCamForST) * 100);\r\n\r\n        const credentials = {\r\n            mejorasImp,\r\n            porMinParco,\r\n            porMiEnvDes,\r\n            porMjMinCamFor,\r\n            idU\r\n        }\r\n        const options = {\r\n            method: 'PUT',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(credentials)\r\n        }\r\n\r\n        fetch(ApiUrlXD + 'setMejoras', options);\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <div className = \"Op-certi\">\r\n            <button onClick={() => {\r\n                setShowOperarios(!showOperarios)\r\n            }}>\r\n                <h5 className = \"title-op-certi\">Captura de operarios certificados</h5>\r\n            </button>\r\n\r\n            {showOperarios ? (\r\n                <form className='form-op-certi' onSubmit={submitOper}>\r\n\r\n                    <label htmlFor='iOperCerti'> operarios certificados</label>\r\n                    <br />\r\n                    <input id=\"iOperCerti\" type=\"number\" defaultValue={operCerti}\r\n                        min=\"0\" max={operTotal}\r\n                        onChange={e => setOperCerti(e.target.value)}\r\n                    ></input>\r\n                    <br />\r\n                    <label htmlfor='iOperTotal'> operarios totales </label>\r\n                    <br />\r\n                    <input id=\"ioperTotal\" type=\"number\" defaultValue={operTotal}\r\n                        min=\"0\"\r\n                        onChange={e => setOperTotal(e.target.value)}\r\n                    ></input>\r\n                    <br />\r\n                    <button type=\"submit\"> Subir </button>\r\n\r\n                </form>\r\n            ) : <div></div>}\r\n\r\n            <button onClick={() => {\r\n                setShowKPIS(!showKPIS)\r\n            }}>\r\n                <h5>Captura de mejoras en indicadores de procesos</h5>\r\n            </button>\r\n\r\n            {showKPIS ? (\r\n                <form onSubmit={submitKPIS}>\r\n                    <div>\r\n                        <br/>\r\n                        <label htmlFor='mejoras'>Mejoras implementadas </label>\r\n                        <input id=\"mejoras\" type=\"number\" min = \"0\" required\r\n                            onChange={e=> setMejorasImp(e.target.value)}\r\n                            defaultValue={mejorasImp}\r\n                        ></input>\r\n                        <br />\r\n                        \r\n                    </div>\r\n                    <br/>\r\n                    <div>\r\n                        <p>Minutos de paro (mins/mes)</p>\r\n                        <label htmlFor='mdpST'>Medicion sin TWI  </label>\r\n                        <input id=\"mdpST\" type=\"number\" min = \"0\" required\r\n                            onChange={e=> setMjMinParoST(e.target.value)}\r\n                        ></input>\r\n                        <br />\r\n                        <label htmlFor='mdpCT'>Medicion con TWI</label>\r\n                        <input id=\"mdpCT\" type=\"number\" min = \"0\" required\r\n                            onChange={e=>setMjMinParoCT(e.target.value)}\r\n                        ></input>\r\n                    </div>\r\n                    <br />\r\n                    <div>\r\n                        <p>Envases desechados (tarimas/mes)​</p>\r\n                        <label htmlFor='edST'>Medicion sin TWI  </label>\r\n                        <input id=\"edST\" type=\"number\" min = \"0\" required\r\n                            onChange={e=>setMjEnvDesST(e.target.value)}\r\n                        ></input>\r\n                        <br />\r\n                        <label htmlFor='edCT'>Medicion con TWI</label>\r\n                        <input id=\"edCT\" type=\"number\" min = \"0\"required\r\n                            onChange={e=>setMjEnvDesCT(e.target.value)}\r\n                        ></input>\r\n                    </div>\r\n                    <br />\r\n                    <div>\r\n                        <p>Minutos por cambio de formato (mins/mes)​</p>\r\n                        <label htmlFor='mpcfST'>Medicion sin TWI  </label>\r\n                        <input id=\"mpcfST\" type=\"number\" min = \"0\" required\r\n                            onChange={e => setMjMinCamForST(e.target.value)}\r\n                        ></input>\r\n                        <br />\r\n                        <label htmlFor='mpcfCT'>Medicion con TWI</label>\r\n                        <input id=\"mpcfCT\" type=\"number\" min = \"0\" required\r\n                            onChange={e => setMjMinCamForCT(e.target.value)}\r\n                        ></input>\r\n                    </div>\r\n                    \r\n                    <button type=\"submit\"> Subir</button>\r\n\r\n\r\n                </form>\r\n            ) : <div></div>}\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SubirKPIS"]},"metadata":{},"sourceType":"module"}